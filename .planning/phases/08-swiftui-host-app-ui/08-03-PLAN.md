---
phase: 08-swiftui-host-app-ui
plan: 03
type: execute
wave: 3
depends_on: ["08-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "About window opens from menu and displays correctly"
    - "About window GitHub link opens browser"
    - "Preferences window opens with Cmd+, and displays correctly"
    - "First-launch window appears on fresh launch (reset with defaults delete)"
    - "System Settings button opens System Settings app"
    - "All windows look correct in both light and dark mode"
    - "App icon displays in About window"
  artifacts: []
  key_links: []
---

<objective>
Verify all UI elements work correctly through visual and functional testing.

Purpose: Human verification ensures the SwiftUI implementation meets the design intent from CONTEXT.md. Visual checks catch layout issues, color problems, and interaction bugs that automated builds cannot detect.

Output: Verified working app UI ready for code signing in Phase 9.
</objective>

<execution_context>
@gsd:workflows/execute-plan.md
@gsd:templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/08-swiftui-host-app-ui/08-CONTEXT.md
@.planning/phases/08-swiftui-host-app-ui/08-01-SUMMARY.md
@.planning/phases/08-swiftui-host-app-ui/08-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build and deploy app for testing</name>
  <files></files>
  <action>
Build release configuration and deploy to /Applications for testing:

1. Build the app:
   xcodebuild -project MDQuickLook/MDQuickLook.xcodeproj -scheme MDQuickLook -configuration Release build

2. Remove old version and deploy new:
   rm -rf /Applications/MDQuickLook.app
   cp -R build/Build/Products/Release/MDQuickLook.app /Applications/

3. Clear any cached launch state to test first-launch behavior:
   defaults delete com.rocketpop.MDQuickLook 2>/dev/null || true

4. Verify deployment:
   ls -la /Applications/MDQuickLook.app
  </action>
  <verify>
App exists in /Applications:
ls -la /Applications/MDQuickLook.app/Contents/MacOS/MDQuickLook

Preferences reset:
defaults read com.rocketpop.MDQuickLook 2>&1 | grep -E "(does not exist|hasLaunchedBefore)"
Should show "does not exist" or no hasLaunchedBefore key.
  </verify>
  <done>App built, deployed to /Applications, launch state reset for first-launch testing.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete SwiftUI host app UI with About window, Preferences window, and First-launch status window</what-built>
  <how-to-verify>
**Test 1: First Launch Experience**
1. Open /Applications/MDQuickLook.app
2. First-launch "Welcome" window should appear automatically
3. Verify it shows:
   - App icon (purple gradient star/#)
   - "Welcome to MD Quick Look" title
   - Extension status explanation text
   - "Open Login Items & Extensions..." button
   - "Get Started" button at bottom
4. Click "Open Login Items & Extensions..." - should open System Settings
5. Click "Get Started" to dismiss

**Test 2: Subsequent Launch**
1. Quit and reopen MD Quick Look
2. Preferences window should open (not first-launch window)
3. Verify Preferences shows:
   - Extension section with status info
   - "Open Extension Settings..." button
   - About section with version and GitHub link

**Test 3: About Window**
1. From menu bar: MD Quick Look > About MD Quick Look
2. Verify About window shows:
   - App icon (purple gradient, 128x128)
   - "MD Quick Look" title
   - Version number (e.g., "Version 0.1.0")
   - GitHub link as URL text (github.com/razielpanic/md-quick-look)
   - Brief description
   - Copyright "Â© 2026 Rocketpop"
3. Click GitHub link - should open browser to repository

**Test 4: Menu Bar**
1. Verify menu items exist:
   - MD Quick Look > About MD Quick Look
   - MD Quick Look > Settings... (or Preferences...)
   - Help > (GitHub link or similar)
2. Cmd+, should open Preferences window
3. Cmd+Q should quit app

**Test 5: Dark Mode**
1. Switch to dark mode (System Settings > Appearance > Dark)
2. Reopen app and check all windows:
   - Text should be readable (white/light gray on dark)
   - Backgrounds should be dark
   - Links should be visible
   - No hardcoded colors breaking appearance
3. Switch back to light mode and verify

**Report any issues with:**
- Layout problems (overlapping, clipping, wrong sizes)
- Color issues (text invisible, wrong contrast)
- Functionality (buttons don't work, links don't open)
- Icon not displaying correctly
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe specific issues found.</resume-signal>
</task>

</tasks>

<verification>
Human verification checkpoint covers all functional and visual testing.
</verification>

<success_criteria>
- First-launch window appears on fresh launch and can be dismissed
- Subsequent launches show Preferences window
- About window displays all required information
- GitHub link opens in browser
- System Settings button opens System Settings
- Menu bar items work correctly (About, Preferences/Cmd+,, Quit/Cmd+Q)
- All UI renders correctly in light and dark modes
- App icon displays in About window
</success_criteria>

<output>
After completion, create `.planning/phases/08-swiftui-host-app-ui/08-03-SUMMARY.md`
</output>
